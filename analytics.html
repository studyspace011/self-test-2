<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics | Firoz Self Objective Test</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ЁЯУИ</text></svg>">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
</head>
<body class="screen active" id="analytics-screen-body">
    <div class="container">
        <h2>ЁЯУИ рдкреНрд░рдЧрддрд┐ рд╡рд┐рд╢реНрд▓реЗрд╖рдг (Analytics)</h2>
        
        <div id="analytics-data-content">
            <div class="analytics-summary">
                <div class="summary-card">
                    <h3>рдХреБрд▓ рдкреНрд░рдпрд╛рд╕</h3>
                    <div class="summary-value" id="total-tests">0</div>
                </div>
                <div class="summary-card">
                    <h3>рдФрд╕рдд рд╕реНрдХреЛрд░</h3>
                    <div class="summary-value" id="average-score">0%</div>
                </div>
                <div class="summary-card">
                    <h3>рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рд╕реНрдХреЛрд░</h3>
                    <div class="summary-value" id="best-score">0%</div>
                </div>
            </div>

            <div class="charts-container">
                <div class="chart-section">
                    <h3>рд╡рд┐рд╖рдп рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдкреНрд░рджрд░реНрд╢рди</h3>
                    <canvas id="subjectPerformanceChart"></canvas>
                </div>
                <div class="chart-section">
                    <h3>рд╕реНрдХреЛрд░ рд╡рд┐рддрд░рдг (рдкрд┐рдЫрд▓реЗ 10 рдЯреЗрд╕реНрдЯ)</h3>
                    <canvas id="scoreDistributionChart"></canvas>
                </div>
            </div>
            
            <div class="recent-tests">
                <h3>рд╣рд╛рд▓ рдХреЗ рдЯреЗрд╕реНрдЯ</h3>
                <div id="recent-tests-list" class="recent-tests-list">
                    </div>
            </div>
        </div>
        
        <div id="no-history-message" class="hidden" style="text-align: center; padding: 50px;">
            <p style="font-size: 1.2rem; color: #fff;">рдЕрднреА рддрдХ рдХреЛрдИ рдЯреЗрд╕реНрдЯ рд░рд┐рдХреЙрд░реНрдб рдирд╣реАрдВ рдорд┐рд▓рд╛ред</p>
        </div>

        <div class="analytics-actions">
            <button id="back-from-analytics" class="secondary-btn">ЁЯПа рд╡рд╛рдкрд╕ рд╣реЛрдо</button>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Analytics specific logic in script.js will run on this page too
        document.addEventListener('DOMContentLoaded', () => {
            const appInstance = new MCQTestApp();
            appInstance.initializeAnalytics();
            
            document.getElementById('back-from-analytics').addEventListener('click', () => {
                window.location.href = 'index.html';
            });
        });
    </script>
</body>
</html>